<!DOCTYPE html>
<html lang="en">

<head>

  <script src ="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src ="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.slim.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.1/ace.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.1/ext-language_tools.js"></script>

  <script src="./term.js"></script>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


  <link rel="stylesheet" type="text/css" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>

  <title>TRex On Docker</title>

</head>
<body>

<div id="status">
<button id="runbutton" class="btn" style="background-color: DodgerBlue" title="Run"><i class="fa fa-play"></i></button>
<button id="stepbutton" class="btn" style="background-color: LawnGreen" title="Step"><i class="fa fa-arrow-down"></i></button>
<button id="stopbutton" class="btn" style="background-color: FireBrick" title="Stop"><i class="far fa-stop-circle"></i></button>
</div>

<div id="codetabs">
    <ul>
        <li><a href="#PCAP">PCAP</a></li>
        <li><a href="#STREAMS">Streams</a></li>
    </ul>
    <div id="PCAP"></div>
    <div id="STREAMS"></div>
</div>
<div id="codetabid"></div>


<div id="outputtabs">
    <ul>
        <li><a href="#console">Console</a>
        </li>
        <li><a href="#output">Output</a>
        </li>
        <li><a href="#tcpdump">TCP Dump</a>
        </li>
    </ul>
    <div id="console"></div>
    <div id="output"></div>
    <div id="tcpdump"></div>
</div>
<div id="outputabid"></div>



<pre id="pcapcode">
from trex_stl_lib.api import *
import pprint

pp = pprint.pprint
c = STLClient(server = "127.0.0.1")
c.connect()

port_0 = 0
port_1 = 1
port_2 = 2
port_3 = 3

try:
    c.reset(ports = [port_0, port_1])
    c.push_pcap("/v3.04/stl/sample.pcap", ports = port_1, ipg_usec = 1000)
    c.wait_on_traffic()
    
    stats = c.get_stats()
    
    print("port_1 stats:")
    pp(stats[port_1])

except STLError as e:
    print(e)

finally:
    c.disconnect()
</pre>


<pre id="streamscode" style="visibility: hidden">
from trex_stl_lib.api import *

c = STLClient(server = "127.0.0.1")
c.connect()

port_0 = 0
port_1 = 1
port_2 = 2
port_3 = 3

try:
    base_pkt = Ether()/IP(src="16.0.0.1",dst="48.0.0.1")/UDP(dport=12,sport=1025)
    pkt = STLPktBuilder(base_pkt)
    s1 = STLStream(packet = pkt, mode = STLTXCont(pps = 1000))
    c.reset(ports = [port_0, port_1, port_2, port_3])
    c.add_streams(s1, ports = port_1)
    print("Starting Traffic for 10 seconds...")
    c.start(ports = port_1, duration = 10)
    c.wait_on_traffic()
    print("Done!")

except STLError as e:
    print(e)

finally:

    c.disconnect()
</pre>

<script src="client.js"></script>

<!-- <body onresize="on_window_resize()"></body> -->
<body></body>
</html>
